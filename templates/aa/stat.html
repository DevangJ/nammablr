{% extends 'base.html' %}

{% block head %}
<link rel="manifest" href="/static/manifest-admin.json">

  <style media="screen">
  #map {
      height: 100%;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>

{% endblock %}
{% block main %}
    {% include 'aa/nav.html' %}



<div id="map"></div>
{% endblock %}


{% block script %}

<!-- Show Region wise distribution of requests here -->
<script type="text/javascript">


function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 11,
    center: {lat: 12.9715987,  lng: 77.59456269999998},
  });

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints(),
    map: map
  });
  heatmap.set('radius',  20);
}

function getPoints() {
        return [
        {% for entry in req %}
          new google.maps.LatLng({{req[entry]["lat"]}}, {{req[entry]["lng"]}}),
        {% endfor %}
        ];
}


</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRN1uDZIOggcNRFvf2URK_hfXnrpPiEgI&libraries=visualization&callback=initMap">
    </script>
{% endblock %}
